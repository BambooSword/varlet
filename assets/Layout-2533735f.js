import{_ as O,e as l,m as i,p as _,d as S,W as D,X as b,b as L,L as V,N as x,O as U,U as w,M as q,P as I,f as G,w as M,R as $,x as A,r as u,g,c as h,C as H,o as Y,G as z,q as y,Y as F,t as W,l as X,a as E,n as j}from"./index-0a5f1302.js";import{A as J}from"./AppHeader-c6a7ac53.js";const K={name:"AppMobile",props:{componentName:{type:String},language:{type:String},replace:{type:String},hash:{type:String}}};const Q={class:"varlet-site-mobile varlet-site-mobile--375"},Z={class:"varlet-site-mobile-content"},ee=["src"];function ae(N,r,s,o,f,a){return l(),i("div",Q,[_("div",Z,[_("iframe",{id:"mobile",src:`./mobile.html#/${s.componentName}?language=${s.language}&platform=pc&replace=${s.replace}${s.hash?`#${s.hash}`:""}`},null,8,ee)])])}const te=O(K,[["render",ae]]),ne={class:"varlet-site-sidebar var-elevation--3"},se=["href"],oe=_("span",{class:"varlet-site-sidebar__indicator"},null,-1),le={key:0,class:"varlet-site-sidebar__item--title"},ce={key:1},ie=S({__name:"AppSidebar",props:{menu:{},menuName:{},language:{}},emits:["change"],setup(N,{emit:r}){const s=N,o=D(b),f=a=>{a.type===b.TITLE||s.menuName===a.doc||r("change",a)};return(a,d)=>{const p=L("var-cell"),m=V("ripple");return l(),i("div",ne,[(l(!0),i(x,null,U(a.menu,(t,T)=>(l(),i("a",{class:"varlet-site-sidebar__link",key:T,href:t.type!==w(b).TITLE?`#/${a.language}/${t.doc}`:void 0,onClick:d[0]||(d[0]=q(()=>{},["prevent"]))},[I((l(),G(p,{class:A(["varlet-site-sidebar__item",{"varlet-site-sidebar__item--active":t.doc===a.menuName,"varlet-site-sidebar__cell":t.type!==o.TITLE,"varlet-site-sidebar__title":t.type===o.TITLE}]),id:t.doc,onClick:C=>f(t)},{default:M(()=>[oe,t.type===o.TITLE?(l(),i("span",le,$(t.text[a.language]),1)):(l(),i("span",ce,$(t.text[a.language]),1))]),_:2},1032,["id","class","onClick"])),[[m,{disabled:t.type===o.TITLE}]])],8,se))),128))])}}});const re={class:"varlet-site"},ue={class:"varlet-site-content"},_e={class:"varlet-site-playground-container"},de=["src"],me=S({__name:"Layout",setup(N){const r=X,s=u(g(h,"pc.menu",[])),o=u(g(h,"useMobile")),f=g(h,"mobile.redirect"),a=u(""),d=u(),p=u(""),m=u(""),t=u(null),T=H(),C=e=>{const n=s.value.find(c=>c.doc===e);return(n==null?void 0:n.type)===b.COMPONENT?e:f.slice(1)},B=()=>{const{menuName:e}=E();j(()=>{const n=document.querySelector(".varlet-site-sidebar").getElementsByClassName("var-cell"),c=s.value.findIndex(v=>v.doc===e);c!==-1&&n[c].scrollIntoView({block:"center",inline:"start"})})},P=e=>{t.value.scrollTop=0,d.value=C(e.doc),p.value=e.doc,m.value=""},k=()=>{const e="VARLET_UI_PLAYGROUND_HAS_BEEN_CLOSED";!localStorage.getItem(e)&&!window.confirm("The code will no longer be saved after closing. Are you sure you want to close?")||(localStorage.setItem(e,"true"),r.showPlayground=!1)};return Y(()=>{B(),window.addEventListener("message",e=>{const{data:n}=e;n.action==="playground-close"&&k()})}),z(()=>T.path,()=>{var v;const{language:e,menuName:n,hash:c}=E();!e||!n||(d.value=C(n),p.value=n,m.value=c,a.value=e,o.value=((v=s.value.find(R=>R.doc===n))==null?void 0:v.useMobile)??g(h,"useMobile"),document.title=g(h,"pc.title")[e])},{immediate:!0}),(e,n)=>{const c=L("router-view"),v=L("var-popup");return l(),i(x,null,[_("div",re,[y(J,{language:a.value},null,8,["language"]),_("div",ue,[y(ie,{language:a.value,menu:s.value,"menu-name":p.value,onChange:P},null,8,["language","menu","menu-name"]),_("div",{class:A(["varlet-site-doc-container",[!o.value&&"varlet-site-doc-container--pc-only"]]),ref_key:"doc",ref:t},[y(c)],2),I(y(te,{"component-name":d.value,language:a.value,replace:p.value,hash:m.value},null,8,["component-name","language","replace","hash"]),[[F,o.value]])])]),y(v,{position:"right",show:w(r).showPlayground,onClickOverlay:k},{default:M(()=>[_("div",_e,[w(r).showPlayground?(l(),i("iframe",{key:0,id:"playground",class:"varlet-site-playground-iframe",src:w(r).playgroundURL,allow:"clipboard-write"},`
      `,8,de)):W("",!0)])]),_:1},8,["show"])],64)}}});export{me as default};
